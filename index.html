<!doctype html>
<html>
<head>
    <title>Image Gallery</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="http://code.jquery.com/mobile/1.2.0/jquery.mobile-1.2.0.min.css">
    <script src="http://code.jquery.com/jquery-1.8.2.min.js"></script>
    <script src="http://code.jquery.com/mobile/1.2.0/jquery.mobile-1.2.0.min.js"></script>
	
	<script>
	$.mobile.changeGlobalTheme = function(theme){	
		// These themes will be cleared, add more
		// swatch letters as needed.
		var themes = " a b c d e";

		// Updates the theme for all elements that match the
		// CSS selector with the specified theme class.
		function setTheme(cssSelector, themeClass, theme){
			$(cssSelector)
            .removeClass(themes.split(" ").join(" " + themeClass + "-"))
            .addClass(themeClass + "-" + theme)
            .attr("data-theme", theme);
		}

		// Add more selectors/theme classes as needed.
		setTheme(".ui-mobile-viewport", "ui-overlay", theme);
		setTheme("[data-role='page']", "ui-body", theme);
		setTheme("[data-role='header']", "ui-bar", theme);
		setTheme("[data-role='listview'] > li", "ui-bar", theme);
		setTheme(".ui-btn", "ui-btn-up", theme);
		setTheme(".ui-btn", "ui-btn-hover", theme);
	};
	
</script>
<script>
	$(document).on("pagecreate","#screen1",function(){
		$(".theme").on("tap",function(){
			$.mobile.changeGlobalTheme($(this).attr("id"));
		});
		
		
		
		/*$('img').on('dragstart', function(event) {
   		 event.preventDefault();
		});*/

		$("ul").on("click", "li", function(){
			$.mobile.changePage("#screen2", {transition: "slide", changeHash:false});
			var $clickedTitle = $(this).text();
				//saves name of image for use of appending to page 2. Note: ids should match name of images.
				var $clickedImg = $(this).attr("id");
				

			//Attaches name of picture to page two header	
			$("#screen2 h1").text($clickedTitle);

			//saves clicked img src to variable
			var $img = "<div id='"+$clickedImg+"-div'><img id='"+$clickedImg+"' draggable='false' src='images/" + $clickedImg + ".jpg'</img> </div>";
			//Adds clicked image to page 2 content
			$("#screen2 #img-holder").html($img);

		});
	
	});
	var pictureOrder = ["images/Cute.jpg", "images/Win.jpg", "images/Fail.jpg", "images/Boring.jpg", "images/WTF.jpg"];
	
	$(document).on("pagecreate","#screen2",function(){
			$("#screen2").bind("swipeleft", function (e) {
			
			
				var $curSrcL = $("div > img").attr("src");
				var $posL = pictureOrder.indexOf($curSrcL);
				var $newSrcL = pictureOrder[$posL+1];
				var $newH1L = $newSrcL.replace('images/','').replace('.jpg','');
				
				$("#screen2 h1").text($newH1L);
				$("img").attr("src",$newSrcL);

			});
			
			$("#screen2").bind("swiperight", function (e) {
				var $curSrcR = $("div > img").attr("src");
				var $posR = pictureOrder.indexOf($curSrcR);
				var $newSrcR = pictureOrder[$posR-1];
				var $newH1R = $newSrcR.replace('images/','').replace('.jpg','');
				
				$("#screen2 h1").text($newH1R);
				$("img").attr("src",$newSrcR);

			});
		});
</script>
</head>
<body>
   
   
   <div data-role="page" id="screen1" data-theme="b" >
		
		<div data-role="popup" id="popupBasic" style="width:200px;" >
			
			<div data-role="header" >
				 <h1>Settings</h1>
				 <!-- <a class="ui-btn-right" data-icon="delete"/> -->
			</div>	
			<h4 style="text-align:center;">Change Theme</h4>
			<div style="padding: 0px 20px 20px 20px;">
				<a data-role="button" class="theme" id="a">Theme A</a>
				<a data-role="button" class="theme" id="b">Theme B</a>
				<a data-role="button" class="theme" id="c">Theme C</a>
				<a data-role="button" class="theme" id="d">Theme D</a>
				<a data-role="button" class="theme" id="e">Theme E</a>
			</div>
			
		</div>
		
        <div data-role="header">
            <h1>Image Gallery</h1>
			<a href="#popupBasic" data-rel="popup" data-position-to="window" class="ui-btn-right" data-icon="gear" data-theme="d">Setting</a>
        </div><!-- /header -->
 
        <div id="div1" data-role="content">
        
			<ul data-role="listview" data-inset="true" >
			
				<li id="Cute">
					<a class=""  href="#screen2" data-transition="flip">
					<img src="images/Cute.jpg" />
					<h2>Cute</h2></a>
				</li>
				<li id="Win">
					<a class=""  href="#screen2win" data-transition="flip">
					<img src="images/Win.jpg" />
					<h2>Win</h2></a>
				</li>
				<li id="Fail" >
					<a class="imageButton" href="#screen2fail">
					<img src="images/Fail.jpg" />
					<h2>Fail</h2></a>
				</li>
				<li id="Boring">
					<a class="imageButton"  href="#screen2boring">
					<img src="images/Boring.jpg" />
					<h2>Boring</h2></a>
				</li>
				<li id="WTF">
					
					<a class="imageButton"  href="#screen2wtf">
					<img src="images/WTF.jpg" />
					<h2>WTF</h2></a>
				</li>
			</ul>
		
				<li><a data-role="button" href="#screen3" data-transition="slideup">About</a></li>

        </div><!-- /content -->
 
    </div><!-- /page -->
	
	
	
	
	 <div data-role="page" id="screen2" data-add-back-btn="true" >
 
        <div data-role="header" >
			<a href="#" data-icon="arrow-l" data-rel="back">Back</a>
            <h1>Cute</h1>
			<a href="#screen1" data-icon="home" data-transition="flow">Home</a>
        </div><!-- /header -->
 
        <div data-role="content" >
			<div id="img-holder"></div>
        </div><!-- /content -->
 
    </div><!-- /page -->
	

	
	
	
	 <div data-role="page" id="screen3" data-add-back-btn="true">
 
        <div data-role="header" >
			<a href="#" data-icon="arrow-l" data-rel="back" data-transition="flip">Back</a>
			<h1>About</h1>
	
        </div><!-- /header -->
 
        <div data-role="content">
			<ul data-role="listview" data-inset="true">
				<li >The Undevelopers</li>
				<li>Dan Carino</li>
				<li>Stephanie Flodman</li>
				<li>Fiona Stewart</li>
			</ul>
        </div><!-- /content -->
 
 
 
    </div><!-- /page -->
</body>
</html>